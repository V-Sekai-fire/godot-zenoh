[package]
name = "godot-zenoh"
version = "0.1.0"
edition = "2021"

[lib]
crate-type = ["cdylib"]

[dependencies]
# Godot GDExtension bindings
godot = {git = "https://github.com/godot-rust/gdext.git", features = ["register-docs", "api-4-4", "experimental-threads"]}

zenoh = "1.7.2"
zenoh-config = "1.0"

# For HOL blocking prevention demonstration (random packet generation)
rand = "0.8"

# Async runtime for Zenoh
tokio = { version = "1", features = ["rt-multi-thread", "macros"] }

# For async signal handling
futures = "0.3"

# FULL RAFT IMPLEMENTATION - async-raft for distributed consensus
async-raft = { version = "0.7", default-features = false, features = ["tracing"] }
async-raft-ext = "0.8"
async-trait = "0.1"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
tracing = "0.1"

[build-dependencies]
# Optional: if we need custom build steps
# godot-bindgen = "0.1"

[dev-dependencies]
# Testing framework
rstest = "0.18"
proptest = "1.0"

[features]
default = []
gdnative = []  # Disable gdnative for tests
